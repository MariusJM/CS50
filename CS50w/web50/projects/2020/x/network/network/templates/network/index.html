{% extends "network/layout.html" %}

{% block body %}

    <div id="posts-all-container">
        <h2>All Posts</h2>
            <div style="display: flex; flex-direction: column; align-items: center;">Container for posts
                <div>
                    {% for post in posts %}
                        <div>
                            <p>{{ post.body }}</p>
                            <p>Author: {{ post.author }}</p>
                            <p>Created at: {{ post.date_created }}</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
    </div>
    
    <div id="posts-following-container">
        Following Posts
    </div>
    
    <div id="posts-user-container">
        <div>User Data</div>
        <div>User Posts</div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('#posts-all').addEventListener('click', (event) =>{
                event.preventDefault();
                load_posts('all');
            });
            document.querySelector('#posts-following').addEventListener('click', () => load_posts('following'));
            document.querySelector('#posts-user').addEventListener('click', () => load_posts('user'));

            load_posts("all")
        });
    
        function load_posts(posts){
            if (posts === "all"){
                document.querySelector('#posts-all-container').style.display = 'block';
                document.querySelector('#posts-following-container').style.display = 'none';
                document.querySelector('#posts-user-container').style.display = 'none';
                console.log(`${posts} button was clicked`);
            } else if (posts === "following"){
                document.querySelector('#posts-all-container').style.display = 'none';
                document.querySelector('#posts-following-container').style.display = 'block';
                document.querySelector('#posts-user-container').style.display = 'none';
                console.log(`${posts} button was clicked`);
            } else if (posts === "user") {
                document.querySelector('#posts-all-container').style.display = 'none';
                document.querySelector('#posts-following-container').style.display = 'none';
                document.querySelector('#posts-user-container').style.display = 'block';
                console.log(`${posts} button was clicked`);
            }
        }

        function get_posts(){
            // fetch(`/emails/${mailbox}`)
            // .then(response => response.json())
            // .then(emails => {
                // Print emails
                // console.log(emails);
                // ... do something else with emails ...
        }
    </script>
{% endblock %}